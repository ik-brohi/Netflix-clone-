"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Errors_1 = require("./Errors");
var mapOptionToCommand = {
    quiet: 'q',
    type: 's',
    kernel: 't',
    degree: 'd',
    gamma: 'g',
    coef0: 'r',
    cost: 'c',
    nu: 'n',
    epsilon: 'p',
    cacheSize: 'm',
    tolerance: 'e',
    shrinking: 'h',
    probabilityEstimates: 'b',
    weight: 'w',
};
/**
 * SVM classification and regression types
 * @memberof SVM
 * @type {{C_SVC: string, NU_SVC: string, ONE_CLASS: string, EPSILON_SVR: string, NU_SVR: string}}
 * @property C_SVC - The C support vector classifier type
 * @property NU_SVC - The nu support vector classifier type
 * @property ONE_CLASS - The one-class support vector classifier type
 * @property EPSILON_SVR - The epsilon support vector regression type
 * @property NU_SVR - The nu support vector regression type
 */
var mapSVMTypesToValue = {
    C_SVC: '0',
    NU_SVC: '1',
    ONE_CLASS: '2',
    EPSILON_SVR: '3',
    NU_SVR: '4',
};
/**
 * SVM kernel types
 * @memberof SVM
 * @type {{LINEAR: string, POLYNOMIAL: string, RBF: string, SIGMOID: string}}
 * @property LINEAR - Linear kernel
 * @property POLYNOMIAL - Polynomial kernel
 * @property RBF - Radial basis function (gaussian) kernel
 * @property SIGMOID - Sigmoid kernel
 */
var mapKernelTypesToValue = {
    LINEAR: '0',
    POLYNOMIAL: '1',
    RBF: '2',
    SIGMOID: '3',
    PRECOMPUTED: '4',
};
function getCommand(options) {
    var str = '';
    var keys = Object.keys(options);
    for (var i = 0; i < keys.length; i++) {
        var key = keys[i];
        var command = mapOptionToCommand[key];
        var option = options[key];
        if (option == null) {
            continue;
        }
        if (command == null) {
            throw Errors_1.UtilError('Bad option');
        }
        // Adding an empty space before append a new command
        if (str) {
            str += ' ';
        }
        // Handling each key
        switch (key) {
            case 'probabilityEstimates':
            case 'shrinking':
                str += "-" + command + " " + (options[key] ? 1 : 0);
                break;
            case 'quiet': {
                if (options[key]) {
                    str += "-" + command + " 1";
                }
                break;
            }
            case 'weight': {
                var weightKeys = Object.keys(options.weight);
                for (var j = 0; j < weightKeys.length; j++) {
                    if (j !== 0) {
                        str += ' ';
                    }
                    str += "-w" + weightKeys[j] + " " + options.weight[weightKeys[j]];
                }
                break;
            }
            case 'kernel':
                str += "-" + command + " " + mapKernelTypesToValue[option];
                break;
            case 'type':
                str += "-" + command + " " + mapSVMTypesToValue[option];
                break;
            default: {
                str += "-" + command + " " + options[key];
                break;
            }
        }
    }
    return str;
}
exports.getCommand = getCommand;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9VdGlsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsbUNBQXFDO0FBR3JDLElBQU0sa0JBQWtCLEdBQUc7SUFDekIsS0FBSyxFQUFFLEdBQUc7SUFDVixJQUFJLEVBQUUsR0FBRztJQUNULE1BQU0sRUFBRSxHQUFHO0lBQ1gsTUFBTSxFQUFFLEdBQUc7SUFDWCxLQUFLLEVBQUUsR0FBRztJQUNWLEtBQUssRUFBRSxHQUFHO0lBQ1YsSUFBSSxFQUFFLEdBQUc7SUFDVCxFQUFFLEVBQUUsR0FBRztJQUNQLE9BQU8sRUFBRSxHQUFHO0lBQ1osU0FBUyxFQUFFLEdBQUc7SUFDZCxTQUFTLEVBQUUsR0FBRztJQUNkLFNBQVMsRUFBRSxHQUFHO0lBQ2Qsb0JBQW9CLEVBQUUsR0FBRztJQUN6QixNQUFNLEVBQUUsR0FBRztDQUNaLENBQUM7QUFFRjs7Ozs7Ozs7O0dBU0c7QUFDSCxJQUFNLGtCQUFrQixHQUFHO0lBQ3pCLEtBQUssRUFBRSxHQUFHO0lBQ1YsTUFBTSxFQUFFLEdBQUc7SUFDWCxTQUFTLEVBQUUsR0FBRztJQUNkLFdBQVcsRUFBRSxHQUFHO0lBQ2hCLE1BQU0sRUFBRSxHQUFHO0NBQ1osQ0FBQztBQUVGOzs7Ozs7OztHQVFHO0FBQ0gsSUFBTSxxQkFBcUIsR0FBRztJQUM1QixNQUFNLEVBQUUsR0FBRztJQUNYLFVBQVUsRUFBRSxHQUFHO0lBQ2YsR0FBRyxFQUFFLEdBQUc7SUFDUixPQUFPLEVBQUUsR0FBRztJQUNaLFdBQVcsRUFBRSxHQUFHO0NBQ2pCLENBQUM7QUFFRixTQUFnQixVQUFVLENBQUMsT0FBa0I7SUFDM0MsSUFBSSxHQUFHLEdBQVcsRUFBRSxDQUFDO0lBQ3JCLElBQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDcEMsSUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLElBQU0sT0FBTyxHQUFHLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hDLElBQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUM1QixJQUFJLE1BQU0sSUFBSSxJQUFJLEVBQUU7WUFDbEIsU0FBUztTQUNWO1FBQ0QsSUFBSSxPQUFPLElBQUksSUFBSSxFQUFFO1lBQ25CLE1BQU0sa0JBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUMvQjtRQUVELG9EQUFvRDtRQUNwRCxJQUFJLEdBQUcsRUFBRTtZQUNQLEdBQUcsSUFBSSxHQUFHLENBQUM7U0FDWjtRQUVELG9CQUFvQjtRQUNwQixRQUFRLEdBQUcsRUFBRTtZQUNYLEtBQUssc0JBQXNCLENBQUM7WUFDNUIsS0FBSyxXQUFXO2dCQUNkLEdBQUcsSUFBSSxNQUFJLE9BQU8sVUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUM7Z0JBQzdDLE1BQU07WUFDUixLQUFLLE9BQU8sQ0FBQyxDQUFDO2dCQUNaLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO29CQUNoQixHQUFHLElBQUksTUFBSSxPQUFPLE9BQUksQ0FBQztpQkFDeEI7Z0JBQ0QsTUFBTTthQUNQO1lBQ0QsS0FBSyxRQUFRLENBQUMsQ0FBQztnQkFDYixJQUFNLFVBQVUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDL0MsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7b0JBQzFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTt3QkFDWCxHQUFHLElBQUksR0FBRyxDQUFDO3FCQUNaO29CQUNELEdBQUcsSUFBSSxPQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsU0FBSSxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBRyxDQUFDO2lCQUM5RDtnQkFDRCxNQUFNO2FBQ1A7WUFDRCxLQUFLLFFBQVE7Z0JBQ1gsR0FBRyxJQUFJLE1BQUksT0FBTyxTQUFJLHFCQUFxQixDQUFDLE1BQU0sQ0FBRyxDQUFDO2dCQUN0RCxNQUFNO1lBQ1IsS0FBSyxNQUFNO2dCQUNULEdBQUcsSUFBSSxNQUFJLE9BQU8sU0FBSSxrQkFBa0IsQ0FBQyxNQUFNLENBQUcsQ0FBQztnQkFDbkQsTUFBTTtZQUNSLE9BQU8sQ0FBQyxDQUFDO2dCQUNQLEdBQUcsSUFBSSxNQUFJLE9BQU8sU0FBSSxPQUFPLENBQUMsR0FBRyxDQUFHLENBQUM7Z0JBQ3JDLE1BQU07YUFDUDtTQUNGO0tBQ0Y7SUFFRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUM7QUF2REQsZ0NBdURDIn0=